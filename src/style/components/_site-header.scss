@use '../abstracts/variables' as variables;
@use '../abstracts/mixins' as mixins;

$icon-size: variables.$font-size-large;

header.site-header {
    summary::before {
        color: variables.$color-sidebar-search-icon;
        font-family: variables.$font-family-glyph;
        font-size: $icon-size;
        font-weight: normal;
        font-style: normal;
        font-variant: normal;
        line-height: 1;
        text-rendering: auto;
        text-transform: none;
    }

    > details.panel,
    > details.panel > summary > details.options {
        &[open] {
            & > summary::before {
                background: grey;
            }
        }
    }

    > details.panel {
        > summary:before {
            content: variables.$glyph-menu;
        }

        > summary {
            @include radial-gradient(
                circle, 
                top-right,
                variables.$color-sidebar-search-background grey
            );
            color: #30353b;
        }

        > summary > details.options {

            > summary::before {
                content: variables.$glyph-cog;
            }

            > summary {
                > a.heading {
                    cursor: default;
                }

                > form.search {
                    &::before {
                        color: variables.$color-sidebar-search-icon;
                        content: variables.$glyph-search;
                        font-family: variables.$font-family-glyph;
                        font-size: $icon-size;
                        font-weight: 900;
                        pointer-events: none;
                    }

                    &:focus-within {
                        &::before {
                            animation-duration: 0.6s; 
                            animation-iteration-count: infinite;
                            animation-name: animation_blink;
                            animation-timing-function: ease-in;
                            color: variables.$color-sidebar-search-icon-active;
                            z-index: 2;
                        }
                    }

                    input.search-input {
                        background: transparent;
                        border: none;
                        color: transparent;
                        font-size: inherit;

                        &:focus {
                            background: variables.$color-sidebar-search-background-focus;
                            color: variables.$color-sidebar-search-text-active;
                            outline: none;

                            &::placeholder {
                                color: black;
                            }
                        }

                        &::placeholder {
                            color: transparent;
                        }
                    }
                }
            }

            .options-content {
                background: variables.$color-background-primary;
                @include box-shadow(0, 10px, 5px, rgba(0,0,0,0.31));
            }
        }

        > summary > details.options > summary > a.heading,
        a.heading {
            text-decoration: none;

            > .content {
                color: variables.$color-foreground-tertiary;
                font-size: 1.75rem;
                font-weight: 600;
            }
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::marker {
            content: '';
        }
    }
}
